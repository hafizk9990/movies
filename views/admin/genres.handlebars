<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS -->
    <link rel="stylesheet" href="/css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="/css/magnific-popup.css">
    <link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css">
    <link rel="stylesheet" href="/css/select2.min.css">
    <link rel="stylesheet" href="/css/ionicons.min.css">
    <link rel="stylesheet" href="/css/admin.css">

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
    <link rel="apple-touch-icon" href="/icon/favicon-32x32.png">

    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="Dmitry Volkov">
    <title> Add New Genre </title>

</head>

<body>
     <main class="main">
        <div class="container-fluid">
            <div class="row">
                <!-- main title -->
                <div class="col-12">
                    <div class="main__title">
                        <h2> Add New Genre </h2>
                    </div>
                    <div style = "font-size: 23px; color: green;">
                        {{ genreAdditionSuccessful }}
                    </div>
                    <div style = "font-size: 23px; color: red;">
                        {{ duplicateGenreAdditionFailed }}
                    </div>
                    <br>
                </div>
                <!-- form -->
                <div class="col-12">
                    <form action = "" method = "POST" class="form">
                        <div class="row">
                            <div class="col-12 col-md-7 form__content">
                                <div class="row">
                                    <div class="col-12">
                                        <input autofocus name = "genreName" type="text" class="form__input" placeholder = "Add New Genre" required>
                                    </div>
                                </div>
                            </div>
                                    <div class="col-12">
                                        <button type="submit" class="form__btn"> Add </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- end form -->
            </div>
        </div>
    </main>

    <!-- main content -->
    <main class="main">
        <div class="container-fluid">
            <div class="row">
                <!-- main title -->
                <div class="col-12">
                    <div class="main__title">
                        <h2> View All Genres </h2>
                    </div>
                    <div style = "font-size: 23px; color: green;">
                        {{ genreDeletionSuccessful }}
                    </div> <br>
                </div>
                <!-- end main title -->
                <!-- users -->
                <div class="col-12">
                    <div class="main__table-wrap">
                        <table class="main__table">
                            <thead>
                                <tr>
                                    <th> ID </th>
                                    <th> Genre Name </th>
                                    <th> Delete </th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each data}} 
                                    <tr>
                                        <td>
                                            <div class="main__table-text"> {{ _id }} </div>
                                        </td>
                                        <td>
                                            <div class="main__table-text"> {{ name }} </div>
                                        </td>
                                        <td>
                                            {{!-- Delete button --}}
                                            <div class="main__table-btns">
                                                <a href="#modal-delete-{{_id}}" class="main__table-btn main__table-btn--delete open-modal">
                                                    <i class="icon ion-ios-trash"></i>
                                                </a>
                                            </div>
                                            <!-- modal delete -->
                                            <div id="modal-delete-{{_id}}" class="zoom-anim-dialog mfp-hide modal">
                                                <h6 class="modal__title"> Delete Genre? </h6>
                                                <p class="modal__text"> Are you sure you want to delete this genre permenently? </p>
                                                <div class="modal__btns">
                                                    <a href = "/admin/genres/delete-genre/{{_id}}" class="modal__btn modal__btn--apply" type="button">Delete</a>
                                                    <button class="modal__btn modal__btn--dismiss" type="button">Dismiss</button>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- end users -->
            </div>
        </div>
    </main>
    <!-- end main content -->

    <!-- JS -->
    <script src="/js/jquery-3.5.1.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/jquery.magnific-popup.min.js"></script>
    <script src="/js/jquery.mousewheel.min.js"></script>
    <script src="/js/jquery.mCustomScrollbar.min.js"></script>
    <script src="/js/select2.min.js"></script>
    <script src="/js/admin.js"></script>
</body>

</html>